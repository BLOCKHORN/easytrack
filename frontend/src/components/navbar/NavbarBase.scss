/* =================== RESET & GUARDRAILS =================== */
*, *::before, *::after { box-sizing: border-box; }
html, body { width: 100%; max-width: 100%; overflow-x: hidden; }
body.no-scroll { overflow: hidden; }

/* =================== VARIABLES =================== */
:root{
  --nav-bg:#0c0d10;
  --nav-txt:#ffffff;
  --nav-txt-2:#cbd5e1;
  --nav-muted:#9aa3b2;
  --nav-border:rgba(255,255,255,.08);
  --nav-panel:#111216;
  --nav-surface:#14161b;

  --acc-1:#60a5fa; /* azul */
  --acc-2:#34d399; /* verde */
  --acc-3:#a78bfa; /* violeta */

  --radius-md:12px;
  --radius-lg:16px;

  --shadow-sm:0 6px 16px rgba(0,0,0,.18);
  --shadow-md:0 14px 36px rgba(0,0,0,.28);

  --tr:200ms ease;
  --tr-slow:420ms cubic-bezier(.2,.7,.2,1);

  /* === Lateral común NAV + HERO === */
  --page-x: clamp(20px, 5vw, 72px);
}

/* =================== NAVBAR BASE =================== */
.navbar{
  position: sticky;
  top: 0;
  z-index: 1100;
  display:flex; align-items:center;
  width:100%;

  /* mismo lateral que el hero */
  padding-block: 12px;
  padding-inline: var(--page-x);

  background: var(--nav-bg);
  color: var(--nav-txt);
  border-bottom: 1px solid var(--nav-border);
  box-sizing: border-box;
  overflow-x: clip; /* previene scroll horizontal */
  will-change: background; /* blur lo movemos al pseudo */

  &.is-scrolled{
    background: rgba(12,13,16,.92);
    border-bottom-color: rgba(255,255,255,.06);
  }
  &.is-scrolled::before{
    content:"";
    position:absolute; inset:0; pointer-events:none;
    -webkit-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
  }

  .navbar__spacer{ flex:1 1 auto; min-width:0; }
  .navbar__right{ display:flex; align-items:center; gap: 12px; position: relative; min-width: 0; }
}

/* separador vertical */
.navbar__divider{
  opacity:.45; color:var(--nav-txt-2); user-select:none;
  padding: 0 8px; flex: 0 0 auto;
}

/* ===== skeleton ===== */
.navbar__skeleton{
  display:flex; align-items:center; gap:10px;
  .skel{
    height: 38px; width: 120px; border-radius: 12px;
    background: linear-gradient(90deg, rgba(255,255,255,.08), rgba(255,255,255,.14), rgba(255,255,255,.08));
    background-size: 200% 100%; animation: skel 1.2s infinite ease;
    &.skel--primary{ width: 150px; }
  }
}
@keyframes skel{ from{background-position:0% 0%} to{background-position:200% 0%} }

/* =================== BRAND =================== */
.navbar {
  .navbar__brand{
    display:inline-flex; align-items:center; min-width:0; gap:.5rem;
    text-decoration:none; -webkit-tap-highlight-color:transparent;

    /* fallback si aún hay <img> */
    img{ height:44px; width:auto; display:block; max-width:160px; transition:transform .2s ease; }
    &:hover img{ transform: translateY(-1px) scale(1.03); }
    &.small img{ height:28px; max-width:140px; }

    /* wordmark en texto */
    .brand-wordmark{
      font-family:"Nunito Sans", Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      font-weight:900;
      color:#fff;
      letter-spacing:.6px;
      line-height:1;
      white-space:nowrap;
      font-size:clamp(1.25rem, 2.2vw, 1.6rem);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      transition:transform .2s ease, text-shadow .2s ease;
    }
    &:hover .brand-wordmark{ transform: translateY(-1px) scale(1.03); text-shadow:0 2px 10px rgba(255,255,255,.14); }
    &.small .brand-wordmark{ font-size:1.125rem; letter-spacing:.5px; }
  }
}

/* ====== MOBILE NAVBAR HEIGHT TWEAK (override) ====== */
@media (max-width: 1024px){
  .navbar{
    /* más aire arriba/abajo y compatibilidad con notch */
    padding-block: 14px;
    padding-top: calc(env(safe-area-inset-top, 0px) + 14px);
    min-height: 58px; /* asegura carril visual más alto */
  }
}

@media (max-width: 480px){
  .navbar{
    /* un pelín más en móviles pequeños */
    padding-block: 16px;
    padding-top: calc(env(safe-area-inset-top, 0px) + 16px);
    min-height: 60px;
  }
}
/* Botón casita (a la IZQUIERDA del chip de perfil) */
.navbar {
  .navbar__homebtn{
    display:inline-flex; align-items:center; justify-content:center;
    width:40px; height:40px; border-radius:12px;
    margin-left: 0;           /* pegado al divisor */
    margin-right: 8px;        /* separación con el chip/acciones */
    background: var(--nav-surface, #14161b);
    border:1px solid var(--nav-border, rgba(255,255,255,.12));
    color: #e5e7eb;           /* color del icono mediante currentColor */
    cursor:pointer;
    transition: background .18s, border-color .18s, transform .18s;

    /* asegurar que el icono se ve aunque haya estilos globales agresivos */
    svg{
      width:18px; height:18px;
      color: inherit !important;
      fill: currentColor !important;
      flex: 0 0 18px;
    }

    &:hover{ background:#151922; border-color: rgba(255,255,255,.18); }
    &:active{ transform: translateY(1px); }
    &:focus-visible{ outline:2px solid #3b82f6; outline-offset:2px; }
  }

  @media (max-width: 480px){
    .navbar__homebtn{ width:36px; height:36px; border-radius:10px; }
  }
}
