/* EmailConfirmado — acabado premium, centrado perfecto, fondo fluido animado,
   CTA integrado y barra de progreso en booting */

/* ===== Design tokens ===== */
:root{
  --brand:#2563eb; --brand-2:#4f46e5; --accent:#22c1c3;
  --bg:#ffffff; --surface:#ffffff; --surface-2:#f6f9ff;
  --text:#0b1426; --muted:#5b6b88; --border:#e8eef7;
  --ok:#16a34a; --ring:0 0 0 3px rgba(37,99,235,.22);
  --shadow-1:0 10px 30px rgba(12,20,40,.06);
  --shadow-2:0 22px 60px rgba(12,20,40,.10);

  --radius-xl: 20px;
  --radius-lg: 12px;

  --pad: clamp(28px, 6vh, 80px);
  --container-w: min(980px, 100%);
  --card-w: min(820px, 100%);
}

/* ===== Lienzo animado tipo Stripe (blobs + conic) ===== */
.eok{
  min-height: 100dvh;
  padding: var(--pad);
  color: var(--text);
  position: relative;
  overflow: hidden;

  display: grid;
  place-items: center;

  background: var(--surface-2);
}

/* blobs animados */
.eok::before,
.eok::after{
  content:"";
  position:absolute; inset:-18%;
  pointer-events:none;
  filter: blur(46px) saturate(118%);
  opacity:.55;
  will-change: transform;
}
.eok::before{
  background:
    radial-gradient(40% 32% at 15% 22%, rgba(99,102,241,.40), transparent 62%),
    radial-gradient(36% 30% at 85% 18%, rgba(59,130,246,.40), transparent 62%),
    conic-gradient(from 180deg at 50% 50%, rgba(34,193,195,.30), rgba(45,115,255,.22), rgba(34,193,195,.30));
  animation: eok-drift-1 34s ease-in-out infinite alternate;
}
.eok::after{
  background:
    radial-gradient(30% 26% at 25% 78%, rgba(56,189,248,.32), transparent 60%),
    radial-gradient(26% 24% at 78% 74%, rgba(147,197,253,.32), transparent 60%);
  animation: eok-drift-2 42s ease-in-out infinite alternate;
}
@keyframes eok-drift-1{
  0%   { transform: translate3d(-4%, -2%, 0) rotate(0deg) scale(1); }
  100% { transform: translate3d(4%,  2%, 0) rotate(8deg)  scale(1.05); }
}
@keyframes eok-drift-2{
  0%   { transform: translate3d(3%, -3%, 0)  rotate(-6deg) scale(1.03); }
  100% { transform: translate3d(-3%, 3%, 0) rotate(4deg)   scale(1); }
}

/* grain sutil */
.eok::marker{ content:""; } /* evita warnings en algunos motores */
.eok > .eok-wrap::after{
  content:"";
  position:absolute; inset:0; z-index:-1;
  pointer-events:none;
  background:
    repeating-linear-gradient(0deg, rgba(0,0,0,.012) 0, rgba(0,0,0,.012) 1px, transparent 2px, transparent 3px);
  mix-blend-mode:multiply;
}

/* ===== Contenedor centrado con ritmo vertical estricto ===== */
.eok-wrap{
  position: relative;
  width: var(--container-w);
  min-height: calc(100dvh - var(--pad) * 2);
  margin-inline: auto;

  display: grid;
  align-content: center;   /* centra verticalmente */
  justify-items: center;   /* centra horizontalmente */
  gap: clamp(14px, 2vh, 24px);
}

/* Badge */
.eok-badge{
  display: inline-flex; align-items: center; gap: 10px;
  padding: 8px 12px;
  border: 1px solid var(--border);
  background: #eef4ff;
  color: #0b3b8c;
  border-radius: 999px; font-weight: 600; letter-spacing: .2px;

  .eok-badge__icon{
    display:grid; place-items:center;
    width: 18px; height: 18px; border-radius: 999px;
    background: #e8faf0; color: #0d7a4e;
    svg{ width: 14px; height: 14px; }
  }
  .eok-badge__txt{ font-size: .9rem; }
}

/* Card */
.eok-card{
  width: var(--card-w);
  position: relative; overflow: clip;
  border-radius: var(--radius-xl);
  border: 1px solid var(--border);
  background: linear-gradient(180deg, #ffffff 0%, #fbfdff 100%);
  box-shadow: var(--shadow-1);
  padding: clamp(22px, 3.2vw, 38px) clamp(22px, 3.2vw, 42px);
}

/* spotlight detrás de la card para aislarla del fondo */
.eok-card::before{
  content:"";
  position:absolute; inset:-1px;
  background: radial-gradient(260px 160px at 12% -5%, rgba(37,99,235,.10), transparent 60%);
  pointer-events:none;
}

/* barra de progreso (solo visible en .is-booting) */
.eok-card.is-booting::after{
  content:"";
  position:absolute; left:0; top:0; height:3px; width:100%;
  background:
    linear-gradient(90deg, rgba(37,99,235,.0) 0%, rgba(37,99,235,.55) 50%, rgba(37,99,235,.0) 100%);
  background-size: 220% 100%;
  animation: eok-progress 1.8s ease-in-out infinite;
}
@keyframes eok-progress{
  0%   { background-position: 0% 50%; }
  100% { background-position: 200% 50%; }
}

/* Icono */
.eok-icon{
  width: 56px; height: 56px; border-radius: 14px;
  display: grid; place-items: center;
  background: #eaf8f0; border: 1px solid #d5f1e1; color: var(--ok);
  margin-bottom: 12px;
  svg{ width: 26px; height: 26px; }
}

/* Tipografía y ritmo */
.eok-title{
  font-size: clamp(26px, 3.2vw, 32px);
  line-height: 1.15; font-weight: 800; margin: 0 0 6px; color: var(--text);
}
.eok-subtitle{
  color: var(--muted);
  margin: 0 0 18px;
  font-size: clamp(14px, 1.8vw, 16px);
  strong{ color: var(--text); font-weight: 700; }
}

/* CTA integrado */
.eok-actions{
  display: flex; gap: 12px; align-items: center; flex-wrap: wrap;
  margin: 12px 0 4px;
}
.eok-btn{
  -webkit-tap-highlight-color: transparent;
  user-select: none; cursor: pointer; border: 0; outline: none;
  display: inline-flex; align-items: center; gap: 10px;
  padding: 14px 18px; border-radius: var(--radius-lg);
  font-weight: 700; font-size: 1rem; line-height: 1;
  transition: transform .06s ease, box-shadow .25s ease, background .25s ease;
  svg{ width: 18px; height: 18px; }
}
.eok-btn--cta{
  position: relative;
  color: #fff;
  background: linear-gradient(92deg, var(--brand) 0%, var(--brand-2) 100%);
  box-shadow: 0 10px 24px rgba(37,99,235,.18);

  &::before{
    content:"";
    position:absolute; inset:-2px;
    border-radius: inherit; padding: 2px;
    background: conic-gradient(from 0deg, rgba(37,99,235,.0), rgba(37,99,235,.15), rgba(79,70,229,.18), rgba(37,99,235,.15), rgba(37,99,235,.0));
    -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask-composite: xor; mask-composite: exclude;
  }
  &:hover{ transform: translateY(-1px); }
  &:active{ transform: translateY(0); }
  &:focus-visible{ box-shadow: 0 0 0 4px rgba(37,99,235,.26); }
}
@keyframes eok-shine{ to { transform: rotate(360deg); } }

.eok-hint{
  margin-top: 10px;
  color: var(--muted);
  font-size: .95rem;
}

/* Alertas */
.eok-alert{
  margin-top: 14px; display: flex; align-items: flex-start; gap: 10px;
  border: 1px solid #fdecc7; background: #fff7e6; color: #8a5a12;
  border-radius: var(--radius-lg); padding: 12px 14px;
  svg{ flex: 0 0 auto; width: 18px; height: 18px; margin-top: 1px; }
  span{ line-height: 1.3; }
}

/* Loading */
.eok-loading{ display: grid; gap: 12px; align-items: center; justify-items: start; }
.eok-spinner{
  width: 26px; height: 26px; border: 3px solid rgba(0,0,0,.06);
  border-top-color: var(--brand); border-radius: 50%;
  animation: eok-spin .9s linear infinite;
}
@keyframes eok-spin{ to{ transform: rotate(360deg);} }
/* Añade al final de EmailConfirmado.scss si quieres estilizar el loader de la pasarela */
.eok--gate{
  min-height:100dvh; display:grid; place-items:center; padding:48px;
  background: linear-gradient(180deg, #fbfdff 0%, #f6f9ff 60%, #ffffff 100%);
}
.eok-loader{ display:grid; gap:12px; justify-items:center; color:#0b1426; }
.eok-loader__spinner{
  width:28px; height:28px; border-radius:50%;
  border:3px solid rgba(0,0,0,.08); border-top-color:#2563eb;
  animation:eok-spin .9s linear infinite;
}
@keyframes eok-spin{ to{ transform:rotate(360deg); } }
.eok-loader__msg{ color:#5b6b88; font-size:15px; }

/* ===== Responsive ===== */
@media (max-width: 820px){
  .eok-wrap{ width: min(740px, 100%); }
  .eok-card{ width: 100%; }
}
@media (max-width: 680px){
  .eok-card{ padding: 18px; border-radius: 18px; }
  .eok-actions{ gap: 10px; }
  .eok-btn--cta{ width: 100%; justify-content: center; }
  .eok-badge{ transform: translateY(-2px); }
}
@media (max-width: 420px){
  .eok{ padding: 22px; }
  .eok-title{ font-size: 24px; }
  .eok-subtitle{ font-size: 14px; }
}

/* Accesibilidad */
@media (prefers-reduced-motion: reduce){
  .eok::before, .eok::after{ animation: none; }
  .eok-btn--cta::before{ animation: none; }
  .eok-spinner{ animation: none; }
}
