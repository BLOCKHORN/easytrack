/* =========================================================
   EasyTrack Checkout Success (SCOPED)
   ========================================================= */
.et-success {
  /* Tokens */
  --et-bg: #f7f9fc;
  --et-card: #ffffff;
  --et-text: #0b1220;
  --et-muted: #6b7280;

  --et-primary: #1768ff;
  --et-primary-600: #0f55d6;
  --et-violet: #7d66ff;
  --et-salmon: #ff8a6b;

  --et-success: #15b26b;
  --et-error: #ef4444;

  --et-border: #e5e7eb;
  --et-shadow: 0 10px 30px rgba(16, 24, 40, .08);

  --et-radius: 16px;
  --et-radius-sm: 12px;

  --et-grad: linear-gradient(135deg, var(--et-primary) 0%, var(--et-violet) 45%, var(--et-salmon) 100%);

  min-height: 100dvh;
  background: var(--et-bg);
  color: var(--et-text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* HERO */
  .et-hero {
    position: relative; overflow: hidden; color: #fff;
    padding: clamp(36px, 6vw, 64px) 24px;
    display: grid; place-items: center; text-align: center; gap: 16px;

    &::before {
      content: ""; position: absolute; inset: 0;
      background: linear-gradient(120deg, var(--et-primary) 0%, var(--et-violet) 45%, var(--et-salmon) 100%);
      background-size: 220% 220%; z-index: 0;
      animation: etGradientShift 18s ease-in-out infinite;
    }
    &::after {
      content: ""; position: absolute; inset: -10% -20%;
      background:
        radial-gradient(70% 50% at 20% 10%, rgba(255,255,255,.20), transparent 60%),
        radial-gradient(60% 40% at 85% 80%, rgba(255,255,255,.12), transparent 60%);
      mix-blend-mode: soft-light; z-index: 1; opacity: .85;
      animation: etGlowFloat 20s ease-in-out infinite;
    }

    &__icon, &__text { position: relative; z-index: 2; }
    &__icon .ok {
      display: grid; place-items: center;
      width: clamp(64px, 8vw, 84px); height: clamp(64px, 8vw, 84px);
      border-radius: 50%; background: rgba(255,255,255,.16);
      box-shadow: inset 0 0 0 2px rgba(255,255,255,.24);
    }
    &__icon svg { width: 36px; height: 36px; }

    &__text h1 {
      margin: 0 0 6px; font-weight: 800; letter-spacing: -0.02em;
      font-size: clamp(22px, 3.2vw, 34px);
    }
    &__text p { margin: 0; opacity: .98; font-size: clamp(14px, 2vw, 16px); }
  }

  @keyframes etGradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  @keyframes etGlowFloat {
    0% { transform: translate3d(0,0,0) scale(1); }
    50% { transform: translate3d(-1%,1%,0) scale(1.03); }
    100% { transform: translate3d(0,0,0) scale(1); }
  }

  /* Banner */
  .et-banner {
    display: flex; align-items: center; gap: 10px;
    margin: 16px auto 0; width: min(880px, 92%);
    background: #fff8ea; color: #8a5b00;
    border: 1px solid #ffe3a7; border-radius: 12px;
    padding: 12px 14px;
  }

  /* Layout */
  .et-container { width: min(880px, 92%); margin: 22px auto clamp(32px, 5vw, 56px); display: grid; gap: 18px; }

  .et-card {
    background: var(--et-card);
    border: 1px solid var(--et-border);
    border-radius: var(--et-radius);
    box-shadow: var(--et-shadow);
    padding: clamp(16px, 2.6vw, 22px);
  }

  .et-summary {
    display: grid; gap: 10px;

    &__item {
      display: grid; grid-template-columns: 40px 1fr auto;
      align-items: center; gap: 12px; padding: 10px 8px;
      border-radius: var(--et-radius-sm);
      transition: background .2s ease;
      &:hover { background: #edf3ff; }
    }
    &__icon {
      width: 40px; height: 40px; border-radius: 10px;
      display: grid; place-items: center;
      background: #f3f6ff; color: var(--et-primary);
    }
    &__label { color: var(--et-muted); font-size: 12px; }
    &__value { font-weight: 800; letter-spacing: -0.01em; }
  }

  .et-icon-btn {
    display: grid; place-items: center;
    width: 36px; height: 36px; border-radius: 10px;
    border: 1px solid var(--et-border); background: #fff;
    color: var(--et-text); cursor: pointer;
    transition: transform .1s ease, background .2s ease, border-color .2s ease, color .2s ease;
    svg { width: 18px; height: 18px; color: currentColor; }
    &:hover  { background: #e2eaff; border-color: #9bb2ff; color: var(--et-primary-600); }
    &:active { transform: translateY(1px); }
  }

  .et-steps {
    ol { list-style: none; margin: 0; padding: 0; display: grid; gap: 14px; }
    li { display: grid; grid-template-columns: 28px 1fr; gap: 12px; align-items: start; }
    .dot {
      width: 28px; height: 28px; border-radius: 50%;
      display: grid; place-items: center;
      background: #eef2ff; color: var(--et-primary); font-weight: 700;
    }
    li.done .dot { background: #e8fbf4; color: var(--et-success); }
    li .txt strong { display: block; font-weight: 800; margin-bottom: 2px; }
    li .txt span   { color: var(--et-muted); font-size: 14px; }
    li.active .txt strong { color: var(--et-primary); }
  }

  .et-inbox {
    margin-top: 14px; padding: 12px;
    border: 1px dashed var(--et-border);
    border-radius: 12px;
    display: flex; align-items: center; gap: 16px; justify-content: space-between;

    .subj  { color: var(--et-muted); font-size: 12px; }
    .title { font-weight: 800; margin: 2px 0; letter-spacing: -0.01em; }
  }

  .et-input-row {
    display: grid; grid-template-columns: 1fr auto; gap: 10px;
    input {
      width: 100%; border: 1px solid var(--et-border);
      border-radius: 12px; padding: 12px 14px; font-size: 14px;
      outline: none; background: #fff;
      &:focus { border-color: var(--et-primary); box-shadow: 0 0 0 3px rgba(23, 104, 255, .12); }
    }
    &.is-invalid input { border-color: var(--et-error); box-shadow: 0 0 0 3px rgba(239, 68, 68, .10); }
  }

  /* =========================================================
     Botones (con overrides fuertes para evitar blancos)
     ========================================================= */
  .et-btn {
    position: relative;
    display: inline-flex; align-items: center; gap: 8px;
    border-radius: 12px; padding: 12px 14px;
    border: 1px solid var(--et-border); background: #fff; background-color: #fff;
    color: var(--et-text); cursor: pointer; font-weight: 700; line-height: 1;
    transition: transform .05s ease, background .2s ease, color .2s ease, border-color .2s ease, box-shadow .2s ease;
    svg { color: currentColor; stroke: currentColor; }

    /* Hover accesible (no se vuelve blanco) */
    &:not([disabled]):hover {
      background: #dfe8ff !important;
      background-color: #dfe8ff !important;
      color: var(--et-primary-600) !important;
      border-color: #9bb2ff !important;
      box-shadow: 0 6px 18px rgba(23, 104, 255, .18) !important;
    }
    &:active { transform: translateY(1px); }

    &[disabled] {
      opacity: 1;
      background: #eef1f5; background-color: #eef1f5;
      color: #6b7280; border-color: #d1d5db; box-shadow: none; cursor: not-allowed;
    }
  }

  .et-btn--primary {
    color: #fff; border: 0;
    background: var(--et-grad) !important;
    background-size: 160% 160% !important;

    &:not([disabled]):hover {
      background: var(--et-grad) !important;           /* mantiene gradiente */
      color: #fff !important;
      border-color: transparent !important;
      box-shadow: 0 8px 24px rgba(23, 104, 255, .30) !important;
      animation: etGradientShift 8s ease-in-out infinite;
      transform: translateY(-.5px);
    }
    &:active { transform: translateY(0); }
    &[disabled] { filter: saturate(.75) brightness(.95); opacity: .85; box-shadow: none; }
  }

  /* Estados y tips */
  .et-resend h3 { margin: 2px 0 12px; font-weight: 800; }

  .et-status {
    margin: 10px 0 0; display: flex; align-items: center; gap: 8px; font-size: 14px;
    &.is-ok    { color: var(--et-success); }
    &.is-error { color: var(--et-error); }
  }
  .et-hint { color: var(--et-muted); margin: 10px 0 0; font-size: 13px; display: flex; gap: 6px; align-items: center; }

  .et-tips {
    margin-top: 10px;
    summary { cursor: pointer; color: var(--et-primary); font-weight: 700; }
    ul { margin: 8px 0 0 18px; color: var(--et-muted); }
  }

  .et-meta__row {
    display: flex; align-items: center; justify-content: space-between;
    span { color: var(--et-muted); }
  }

  /* Focus visible */
  a:focus-visible, button:focus-visible, input:focus-visible, summary:focus-visible {
    outline: 3px solid rgba(23, 104, 255, .28);
    outline-offset: 2px; border-radius: 10px;
  }

  /* Responsive */
  @media (max-width: 640px) { .et-inbox { flex-direction: column; gap: 12px; } }
}
