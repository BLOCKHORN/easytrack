/* --- util full-bleed: saca el bloque al ancho real de la ventana --- */
.full-bleed{
  width:100vw;
  margin-left:calc(50% - 50vw);
  margin-right:calc(50% - 50vw);
}

.success-screen{
  /* theme */
  --bg:#f7f9fc; --card:#fff; --ink:#0b1b3c; --muted:#4c5978; --line:#e8eef6;
  --brand:#3b7cff; --brand-2:#1f5ff0; --ok:#14b885; --warn:#f59e0b; --err:#d92d20;

  /* layout raíz: centro perfecto y respiración vertical */
  display:grid;
  place-items:start center;
  padding-block: clamp(36px, 6vh, 72px);
  background:var(--bg);
  color:var(--ink);
  min-height:72vh;

  @media (prefers-color-scheme: dark){
    --bg:#0b1222; --card:#0f1629; --ink:#e6eeff; --muted:#96a2c5; --line:#24314f;
    --brand:#5a8bff; --brand-2:#3669ff;
  }

  .card{
    max-inline-size: 920px;
    inline-size: min(920px, 96vw);
    background:var(--card);
    border:1px solid var(--line);
    border-radius:20px;
    padding:clamp(20px,4vw,32px);
    box-shadow:0 24px 64px rgba(0,0,0,.06);
  }

  /* header */
  .hero{
    text-align:center; margin-bottom:16px;
    .badge{
      inline-size:56px; block-size:56px; border-radius:50%;
      display:inline-grid; place-items:center; margin-bottom:10px;
      color:#fff; background:linear-gradient(180deg,var(--ok),#0a5c46);
      position:relative; box-shadow:0 8px 24px rgba(20,184,133,.25);
      .pulse{ position:absolute; inset:-6px; border-radius:999px; border:3px solid rgba(20,184,133,.28); animation:pulse 1.6s ease-out infinite; }
    }
    h1{ margin:8px 0 6px; font-size:clamp(22px,3.6vw,30px); font-weight:1000; }
    .muted{ margin:0; color:var(--muted); font-weight:700; }
  }

  /* skeletons ligeros */
  .skeletons{ display:grid; gap:12px; margin:14px 0; }
  .sk{ border-radius:14px; background:linear-gradient(90deg, rgba(0,0,0,.06), rgba(0,0,0,.02), rgba(0,0,0,.06)); animation:shimmer 1.4s infinite linear; }
  @media (prefers-color-scheme: dark){ .sk{ background:linear-gradient(90deg, rgba(255,255,255,.06), rgba(255,255,255,.02), rgba(255,255,255,.06)); } }
  .sk-row{ block-size:64px; } .sk-steps{ block-size:110px; }
  @keyframes shimmer{ 0%{background-position:-200% 0;} 100%{background-position:200% 0;} }

  /* quick facts */
  .quick{
    display:grid; grid-template-columns: repeat(3,minmax(0,1fr));
    gap:10px; margin:10px 0 6px;
    .qitem{
      display:flex; align-items:center; gap:10px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.66);
      border-radius:14px; padding:10px 12px; min-block-size:56px;
      @media (prefers-color-scheme: dark){ background:rgba(255,255,255,.04); }
      .lab{ color:var(--muted); font-weight:800; }
      .val{ font-weight:900; }
      svg{ color:var(--brand); flex:0 0 auto; }
      .icon-btn{ margin-left:auto; display:inline-grid; place-items:center;
        inline-size:34px; block-size:34px; border-radius:10px; border:1px solid var(--line);
        background:transparent; color:var(--muted); cursor:pointer;
        &:hover{ color:var(--ink); }
      }
    }
    @media (max-width: 820px){ grid-template-columns:1fr; }
  }

  /* timeline – columnas estables; conectores siempre centrados */
  .timeline{
    margin:12px 0 14px; list-style:none; padding:0;
    display:grid; grid-template-columns:1fr 40px 1fr 40px 1fr; align-items:center; column-gap:10px;

    .step{
      display:flex; align-items:center; gap:10px;
      background:rgba(255,255,255,.66);
      border:1px solid var(--line); border-radius:14px; padding:12px;
      min-block-size:60px;
      @media (prefers-color-scheme: dark){ background:rgba(255,255,255,.04); }

      .dot{
        inline-size:26px; block-size:26px; border-radius:50%;
        display:inline-grid; place-items:center; font-weight:900;
        color:#fff; background:#cbd5e1;
      }
      &.done .dot{ background:var(--ok); }
      &.active{ border-color:rgba(59,124,255,.45); box-shadow:0 12px 24px rgba(59,124,255,.10); }
      .txt{ display:flex; flex-direction:column; gap:2px;
        strong{ font-weight:900; }
        span{ color:var(--muted); font-weight:700; }
      }
    }

    .connector{
      block-size:2px; background:var(--line); border-radius:2px; align-self:center; inline-size:100%;
      &.done{ background:linear-gradient(90deg,var(--ok),#0a5c46); }
    }

    @media (max-width: 920px){
      grid-template-columns:1fr; row-gap:8px;
      .connector{ display:none; }
    }
  }

  .inbox-row, .cta-row{
    margin:12px 0; padding:12px; border:1px solid var(--line); border-radius:14px;
    background:rgba(255,255,255,.66);
    display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;
    @media (prefers-color-scheme: dark){ background:rgba(255,255,255,.04); }

    .left{ .subj{ font-weight:900; } .small{ font-size:13px; color:var(--muted); } }

    .btn{
      border:1px solid var(--line); background:#fff; border-radius:12px; padding:10px 14px;
      font-weight:1000; color:var(--ink); text-decoration:none; display:inline-flex; align-items:center; gap:8px;
      transition:transform .06s ease;
      &:active{ transform:translateY(1px); }
      &.primary{ background:linear-gradient(180deg,var(--brand),var(--brand-2)); color:#fff; border:0; }
      &.ghost{ background:transparent; }
      &:disabled,&[aria-disabled="true"]{ opacity:.55; cursor:not-allowed; }
    }
  }

  .resend{
    margin-top:10px;
    label{ font-weight:900; display:block; margin-bottom:6px; }
    .row{
      display:flex; gap:8px; align-items:center; flex-wrap:wrap;
      input{
        flex:1 1 260px; border:1px solid var(--line); background:#fff; border-radius:10px;
        padding:10px 12px; font-weight:800; min-width:240px;
        @media (prefers-color-scheme: dark){ background:#0b1222; color:var(--ink); }
      }
      &.invalid input{ border-color:rgba(217,45,32,.35); background:rgba(217,45,32,.05); }
      .btn{
        border:1px solid var(--line); background:#fff; border-radius:12px; padding:10px 14px;
        font-weight:1000; display:inline-flex; align-items:center; gap:8px;
        &.primary{ background:linear-gradient(180deg,var(--brand),var(--brand-2)); color:#fff; border:0; }
      }
    }
    .status{
      margin:8px 0 0;
      &.ok{ color:#0a5c46; font-weight:900; }
      &.error{ color:var(--err); font-weight:900; }
      &.warn{ color:var(--warn); font-weight:900; }
      svg{ vertical-align:-2px; margin-right:4px; }
    }
    .hint{ color:var(--muted); margin:6px 0 0; }
  }

  .tips{
    margin-top:12px;
    summary{ font-weight:900; cursor:pointer; }
    ul{ margin:8px 0 0 18px; }
    code{ background:#f1f5fb; border:1px solid var(--line); padding:2px 6px; border-radius:6px; }
    @media (prefers-color-scheme: dark){
      code{ background:#0b1222; }
    }
  }

  /* confetti */
  .confetti{
    position:fixed; inset:0; pointer-events:none; opacity:0; transition:opacity .2s ease;
    &.show{ opacity:1; }
    span{
      position:absolute; width:6px; height:12px; background:linear-gradient(180deg,var(--brand),var(--brand-2));
      left:calc(50% - 3px); top:10%;
      animation:drop 900ms ease-in forwards;
      transform:translateX(var(--dx)) rotate(var(--rot));
    }
    /* 10 piezas con offset y rotación distintos */
    span:nth-child(1){ --dx:-120px; --rot: 24deg;  animation-delay: 20ms;  }
    span:nth-child(2){ --dx:-94px;  --rot: 48deg;  animation-delay: 40ms;  }
    span:nth-child(3){ --dx:-68px;  --rot: 72deg;  animation-delay: 60ms;  }
    span:nth-child(4){ --dx:-42px;  --rot: 96deg;  animation-delay: 80ms;  }
    span:nth-child(5){ --dx:-16px;  --rot:120deg;  animation-delay:100ms;  }
    span:nth-child(6){ --dx: 16px;  --rot:144deg;  animation-delay:120ms;  }
    span:nth-child(7){ --dx: 42px;  --rot:168deg;  animation-delay:140ms;  }
    span:nth-child(8){ --dx: 68px;  --rot:192deg;  animation-delay:160ms;  }
    span:nth-child(9){ --dx: 94px;  --rot:216deg;  animation-delay:180ms;  }
    span:nth-child(10){--dx:120px;  --rot:240deg;  animation-delay:200ms;  }
  }

  @keyframes pulse { 0%{opacity:.5; transform:scale(.9);} 70%{opacity:0; transform:scale(1.2);} 100%{opacity:0;} }
  @keyframes drop {
    0%{ transform: translateY(-40px) translateX(var(--dx)) rotate(var(--rot)); opacity:0; }
    100%{ transform: translateY(420px) translateX(calc(var(--dx) * .6)) rotate(calc(var(--rot) + 180deg)); opacity:1; }
  }
}
