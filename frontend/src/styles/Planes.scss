/* ================== KEYFRAMES (globales) ================== */
@keyframes drift1 { 0%{ transform:translate(-4%,-2%) scale(1);} 100%{ transform:translate(6%,4%) scale(1.04);} }
@keyframes drift2 { 0%{ transform:translate(4%,-4%) scale(0.98);} 100%{ transform:translate(-3%,5%) scale(1.03);} }
@keyframes drift3 { 0%{ transform:translate(-5%,3%) scale(1.02);} 100%{ transform:translate(6%,-4%) scale(0.99);} }
@keyframes overlayIn { from {opacity:0; backdrop-filter:blur(0px)} to {opacity:1; backdrop-filter:blur(6px)} }
@keyframes ringSpin  { 0%{transform:rotate(0) scale(1)} 50%{transform:rotate(180deg) scale(1.06)} 100%{transform:rotate(360deg) scale(1)} }
@keyframes cubewobble{ 0%,100%{transform:translate(-50%,-50%) rotateX(35deg) rotateZ(45deg)} 50%{transform:translate(-50%,-50%) rotateX(35deg) rotateZ(405deg)} }
@keyframes facePulse { 0%,100%{opacity:.95} 50%{opacity:.6} }
@keyframes haloPulse { 0%{opacity:.35; transform:scale(.96)} 100%{opacity:.6; transform:scale(1.06)} }
@keyframes orbitSpin { to { transform:rotate(360deg) } }
@keyframes textIn    { from{ opacity:0; transform:translateY(6px)} to{opacity:1; transform:translateY(0)} }
/* Efectos promo */
@keyframes promoPulse{ 0%{ box-shadow:0 0 0 0 rgba(20,184,133,.28);} 70%{ box-shadow:0 0 0 12px rgba(20,184,133,0);} 100%{ box-shadow:0 0 0 0 rgba(20,184,133,0);} }
@keyframes burstIn  { from{ transform:scale(.75); opacity:.0; } to{ transform:scale(1); opacity:1; } }

/* ===== PLANES (scope total) ===== */
.plans-pro{
  /* Paleta clara */
  --bg:#f6f9ff; --card:#ffffff; --ink:#0b1b3c; --muted:#556280; --line:#e6ecf5;
  --brand:#3b7cff; --brand-2:#1f5ff0; --ok:#14b885; --danger:#d92d20;

  /* Colores promo */
  --promo:#18c08e;
  --promo-2:#0aa06f;

  position:relative; overflow:hidden; min-height:100vh;
  background:var(--bg); color:var(--ink);

  /* =================== BACKGROUND SUAVE ANIMADO =================== */
  .bg{ position:absolute; inset:0; pointer-events:none; z-index:0; }
  .bg::before{
    content:""; position:absolute; inset:0;
    background: radial-gradient(1000px 420px at 60% -10%, #e8f0ff 0%, transparent 60%),
                radial-gradient(800px 360px at 10% 70%, #f0fffb 0%, transparent 60%),
                linear-gradient(180deg, #f8fbff 0%, #f2f6ff 45%, #f9fbff 100%);
  }
  .mesh{ position:absolute; inset:-10%; filter:saturate(110%); }
  .blob{
    position:absolute; width:44vw; height:44vw; border-radius:50%;
    opacity:.22; filter:blur(22px);
    will-change:transform, opacity;
    animation-timing-function:cubic-bezier(.22,.61,.36,1);
    animation-iteration-count:infinite; animation-direction:alternate;
  }
  .b1{
    left:-8%; top:2%;
    background: radial-gradient(circle at 35% 35%, #bfe1ff 0%, #8fbaff 40%, rgba(129,164,255,.35) 65%, transparent 75%);
    animation: drift1 32s;
  }
  .b2{
    right:-10%; top:26%;
    background: radial-gradient(circle at 60% 35%, #bdf6e8 0%, #7fe7cc 38%, rgba(85,219,183,.28) 62%, transparent 74%);
    animation: drift2 36s;
  }
  .b3{
    left:8%; bottom:-10%;
    background: radial-gradient(circle at 40% 60%, #ffd9ec 0%, #ffb4d9 36%, rgba(255,152,210,.25) 60%, transparent 74%);
    animation: drift3 40s;
  }
  .grid{
    position:absolute; inset:-1px;
    background-image:
      linear-gradient(to right, rgba(44,83,255,.05) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(44,83,255,.05) 1px, transparent 1px);
    background-size:46px 46px;
    mask-image: radial-gradient(ellipse at 50% 20%, rgba(0,0,0,.3) 0%, rgba(0,0,0,.18) 40%, transparent 70%);
    opacity:.3;
  }
  .glow{
    position:absolute; inset:0;
    background: radial-gradient(900px 360px at 85% 50%, rgba(59,124,255,.12), transparent 60%),
                radial-gradient(700px 320px at 15% 80%, rgba(20,184,133,.10), transparent 60%);
    opacity:.8;
  }
  @media (prefers-reduced-motion:reduce){ .blob{ animation:none } }

  /* =================== CONTENIDO =================== */
  .content{ position:relative; z-index:1; padding:clamp(28px,6vw,72px) clamp(16px,5vw,48px); }

  .pp-head{ text-align:center; margin-bottom:14px;
    h1{ margin:0 0 6px; font-size:clamp(30px,4.2vw,42px); font-weight:1000; color:#10224b; }
    .sub{ margin:0; color:#5b6b8f; font-weight:700; font-size:clamp(15px,1.8vw,18px); }
  }

  /* ===== Banda PROMO ===== */
  .pp-promo-stripe{
    max-width:1100px; margin:10px auto 16px; padding:10px 14px; border-radius:12px;
    border:1px solid rgba(20,184,133,.28);
    background:linear-gradient(180deg, rgba(24,192,142,.12), rgba(10,160,111,.05));
    display:flex; gap:10px; align-items:center; font-weight:900; justify-content:center;
    .promo-kicker{
      color:#075e48; padding:6px 10px; border-radius:999px; text-transform:uppercase; letter-spacing:.4px;
      background:rgba(20,184,133,.18); border:1px solid rgba(20,184,133,.35);
      animation: promoPulse 1.8s ease-in-out infinite;
      display:flex; align-items:center; gap:8px;
    }
    .promo-note{ color:#0a5c46; font-weight:800; }
  }

  .pp-toggle{ max-width:900px; margin:18px auto 22px; display:grid; grid-template-columns:repeat(3,1fr); gap:10px;
    .opt{ position:relative; background:rgba(255,255,255,.96); border:1px solid var(--line); border-radius:14px;
      padding:14px 16px; font-weight:900; text-align:center; cursor:pointer;
      transition:transform .12s ease,box-shadow .12s ease,border-color .12s ease; backdrop-filter: blur(6px);
      &:hover{ transform:translateY(-1px); box-shadow:0 10px 22px rgba(50,79,163,.10); }
      &.is-active{ border-color:var(--brand); box-shadow:0 12px 26px rgba(59,124,255,.20); }
      &.is-popular:not(.is-active){ border-color:rgba(59,124,255,.45); }
      .badge-soft{
        position:absolute; top:-12px; right:12px; display:flex; align-items:center; gap:6px;
        background:rgba(59,124,255,.12); border:1px solid rgba(59,124,255,.35); color:#1f5ff0;
        border-radius:999px; font-size:12px; font-weight:900; padding:5px 9px;
      }
      /* Badge promo mensual */
      .badge-promo{
        position:absolute; left:12px; top:-12px;
        background:linear-gradient(180deg,var(--promo),var(--promo-2));
        color:#fff; border-radius:999px; font-size:12px; font-weight:1000; padding:5px 10px;
        box-shadow:0 10px 20px rgba(10,160,111,.22);
      }
    }
  }

  /* =================== HERO =================== */
  .pp-hero{ max-width:1100px; margin:0 auto 18px; padding:18px;
    border:1px solid var(--line); border-radius:16px; background:#fff;
    box-shadow:0 20px 48px rgba(23,35,84,.10);
    display:flex; align-items:center; gap:16px;

    .price-wrap{ position:relative; flex:0 0 auto; }

    /* Precio estándar */
    .price{ display:flex; align-items:baseline; gap:8px;
      .num{ font-size:clamp(44px,6.5vw,68px); font-weight:1000; line-height:1; color:var(--ink); }
      .per{ font-weight:900; color:var(--muted); }
    }

    /* Precio dual con “primer mes gratis” */
    .price-duo{ display:flex; align-items:center; gap:18px; position:relative;
      .now-free{
        display:flex; align-items:baseline; gap:6px; position:relative;
        .num{
          font-size:clamp(44px,6.5vw,68px); font-weight:1000; line-height:1;
          background:linear-gradient(180deg,var(--promo),var(--promo-2));
          -webkit-background-clip:text; background-clip:text; color:transparent;
        }
        .eur{ font-weight:1000; font-size:clamp(24px,3vw,28px);
          background:linear-gradient(180deg,var(--promo),var(--promo-2));
          -webkit-background-clip:text; background-clip:text; color:transparent;
        }
        .tag{
          font-weight:1000; color:#0a5c46; background:rgba(20,184,133,.10); border:1px solid rgba(20,184,133,.25);
          padding:6px 10px; border-radius:999px; margin-left:2px;
        }
      }
      .then{
        display:flex; align-items:center; gap:8px; flex-wrap:wrap;
        border:1px dashed rgba(20,184,133,.45); background:rgba(20,184,133,.06);
        padding:8px 12px; border-radius:12px;
        .then-label{ font-weight:900; color:#0a5c46; }
        .then-num{ font-weight:1000; }
        .then-per{ font-weight:900; color:#4c5978; }
      }
      .burst{
        position:absolute; top:-12px; right:-12px; z-index:1;
        background:linear-gradient(180deg,var(--promo),var(--promo-2)); color:#fff;
        border-radius:999px; padding:6px 10px; font-size:12px; font-weight:1000;
        box-shadow:0 12px 26px rgba(10,160,111,.25); white-space:nowrap;
        animation: burstIn .28s ease-out both;
      }
    }

    /* Badge inclinado y desplazado para no tapar precio */
    .corner-badge{
      position:absolute; top:-14px; right:-22px; transform:rotate(6deg);
      background:linear-gradient(180deg,var(--brand),var(--brand-2)); color:#fff;
      border-radius:999px; padding:6px 12px; font-size:12px; font-weight:1000;
      box-shadow:0 12px 28px rgba(59,124,255,.25); white-space:nowrap; pointer-events:none;
    }

    .chips, .compare{ margin-left:auto; }
    .chips{ display:flex; flex-wrap:wrap; gap:8px; justify-content:flex-end;
      .chip{ border:1px solid var(--line); background:#fff; border-radius:999px; padding:8px 12px;
        font-weight:900; font-size:clamp(13px,1.5vw,15px); color:var(--ink);
        &.ok{ border-color:rgba(20,184,133,.25); background:rgba(20,184,133,.10); color:#0a5c46; }
      }
    }
    .compare{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; justify-content:flex-end;
      .ref{ display:flex; align-items:center; gap:6px; color:var(--muted); font-weight:800; }
      .was{ color:#7a869e; font-weight:900; s{ color:#9aa8c2; } }
      .now{ font-weight:1000; background:rgba(59,124,255,.08); border:1px solid rgba(59,124,255,.3);
        padding:6px 10px; border-radius:999px; }
      .save{ font-weight:1000; color:#0a5c46; background:rgba(20,184,133,.10); border:1px solid rgba(20,184,133,.25);
        padding:6px 10px; border-radius:999px; }
    }
    &.pop{ border-color:rgba(59,124,255,.55); }

    @media(max-width:980px){
      flex-wrap:wrap;
      .chips, .compare{ margin-left:0; width:100%; justify-content:flex-start; }
    }
  }

  /* =================== LAYOUT =================== */
  .layout{ max-width:1100px; margin:0 auto; display:grid; grid-template-columns:1fr 360px; gap:18px;
    @media(max-width:1020px){ grid-template-columns:1fr; }
  }

  .left{
    /* Mini comparativa */
    .pp-compare{ display:grid; grid-template-columns:repeat(3,1fr); gap:10px; margin-bottom:12px;
      .mini{ text-align:left; background:#fff; border:1px solid var(--line); border-radius:12px; padding:10px 12px;
        display:grid; gap:6px; cursor:pointer; transition:box-shadow .12s ease, transform .12s ease, border-color .12s ease;
        &:hover{ transform:translateY(-1px); box-shadow:0 12px 28px rgba(0,0,0,.06); }
        &.focus{ border-color:var(--brand); box-shadow:0 12px 28px rgba(59,124,255,.18); }
        &.popular:not(.focus){ border-color:rgba(59,124,255,.45); }
        .k{ font-weight:900; color:var(--muted); font-size:12px; }
        .v{ font-weight:1000; font-size:18px; }
        .t{ font-weight:800; font-size:12px; }
        .t.ok{ color:#0a5c46; }
        .t.muted{ color:var(--muted); }
      }
      @media(max-width:900px){ grid-template-columns:1fr; }
    }

    .pp-card{ background:#fff; border:1px solid var(--line); border-radius:16px;
      padding:clamp(16px,3vw,22px); box-shadow:0 20px 56px rgba(0,0,0,.06);
      .features{ list-style:none; padding:0; margin:0; display:grid; gap:8px;
        li{ display:flex; align-items:center; gap:8px; font-weight:900; border:1px solid var(--line);
          background:#fff; border-radius:12px; padding:10px 12px; }
      }
    }

    .pp-trust{ margin-top:12px; display:grid; grid-template-columns:repeat(3,1fr); gap:12px;
      .titem{ background:#fff; border:1px solid var(--line); border-radius:14px; padding:16px 16px;
        display:flex; align-items:center; gap:10px; font-weight:900; font-size:clamp(14px,1.7vw,16px);
        svg{ width:26px; height:26px; } /* iconos confianza grandes */
      }
      @media(max-width:900px){ grid-template-columns:1fr; }
    }
  }

  .right{
    .summary{ background:#fff; border:1px solid var(--line); border-radius:16px;
      padding:clamp(16px,3vw,22px); box-shadow:0 20px 56px rgba(0,0,0,.06);
      h4{ margin:0 0 10px; }
      .row{ display:flex; align-items:center; justify-content:space-between; margin:8px 0;
        .label{ color:var(--muted); }
        .value{ font-weight:900; }
        .value.strong{ font-size:18px; }
        .value.green{ color:#0a5c46; }
        .muted{ color:var(--muted); font-weight:400; }
        &.total .value{ font-size:18px; }
      }
      .row.promo .label{ color:#075e48; }

      .microcopy{ color:var(--muted); font-size:12px; margin:8px 0; }
      .microcopy.promo-note{ color:#0a5c46; }

      .sep{ height:1px; background:var(--line); margin:10px 0; }

      .form{ display:grid; gap:8px;
        label{ font-weight:800; font-size:13px; color:var(--muted); }
        input{ border:1px solid var(--line); border-radius:10px; padding:10px 12px; font-size:15px; }
      }

      /* Paybar visible con logos grandes */
      .paybar{
        margin-top:14px; display:flex; flex-wrap:wrap; gap:10px; align-items:center;
        .brand-pill{
          display:flex; align-items:center; justify-content:center;
          padding:8px 14px; background:#fff; border:1px solid var(--line);
          border-radius:999px; box-shadow:0 8px 24px rgba(59,124,255,.08);
          transition:transform .12s ease, box-shadow .12s ease; min-width:72px;
          &:hover{ transform:translateY(-1px); box-shadow:0 12px 28px rgba(59,124,255,.12); }
        }
        img{ height:24px; display:block; }
        @media (max-width:560px){ img{ height:22px; } }
      }

      .cta{ width:100%; margin-top:12px; border:0; border-radius:12px; padding:12px 16px; font-weight:1000;
        background:linear-gradient(180deg,var(--brand),var(--brand-2)); color:#fff; cursor:pointer;
        transition:transform .12s ease,box-shadow .12s ease; text-align:center;
        &:hover{ transform:translateY(-1px); box-shadow:0 12px 28px rgba(59,124,255,.22);}
        &:disabled{ opacity:.6; cursor:default; }
      }
    }
  }

  /* ===== OVERLAY DE CARGA (mejorado) ===== */
  .load-overlay{
    position:fixed; inset:0; z-index:10;
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    gap:10px; padding:24px;
    color:#0f1f47;
    background: radial-gradient(1200px 520px at 50% -10%, rgba(60,90,255,.22), rgba(255,255,255,.88) 55%);
    backdrop-filter: blur(6px);
    animation: overlayIn .35s ease both;
  }

  .load-overlay .gcube{ position:relative; width:140px; height:140px; filter:saturate(115%); }
  .load-overlay .gcube::before{
    content:""; position:absolute; inset:-22px; border-radius:24px;
    background:radial-gradient(closest-side, rgba(94,127,255,.55), transparent 70%);
    filter:blur(18px); opacity:.45; animation: haloPulse 1.8s ease-in-out infinite alternate;
  }

  .load-overlay .ring{
    position:absolute; inset:0; border-radius:18px;
    border:3px solid rgba(16,31,71,.18); animation: ringSpin 2.6s cubic-bezier(.22,.61,.36,1) infinite;
  }
  .load-overlay .r2{ inset:12px; animation-duration:2.2s; opacity:.7; }
  .load-overlay .r3{ inset:24px; animation-duration:1.8s; opacity:.55; }

  .load-overlay .cube{
    position:absolute; top:50%; left:50%; width:64px; height:64px;
    transform:translate(-50%,-50%) rotateX(35deg) rotateZ(45deg);
    transform-style:preserve-3d; animation:cubewobble 1.9s ease-in-out infinite;
  }
  .load-overlay .cube i{
    position:absolute; inset:0; border-radius:12px;
    border:3px solid #5e7fff;
    box-shadow:inset 0 0 18px rgba(95,125,255,.55), 0 10px 26px rgba(59,124,255,.18);
    animation: facePulse 1.9s ease-in-out infinite;
  }
  .load-overlay .cube i:nth-child(2){ transform:translateZ(16px); }
  .load-overlay .cube i:nth-child(3){ transform:translateZ(32px); }
  .load-overlay .cube i:nth-child(4){ transform:translateZ(48px); }

  .load-overlay .gcube .orbit{
    position:absolute; inset:-8px; border-radius:999px; animation: orbitSpin 1.8s linear infinite;
  }
  .load-overlay .gcube .orbit::after{
    content:""; position:absolute; top:0; left:50%; width:10px; height:10px; border-radius:50%;
    background:#5e7fff; box-shadow:0 0 12px rgba(94,127,255,.65), 0 0 22px rgba(94,127,255,.35);
    transform:translate(-50%, -50%);
  }

  .load-overlay .brand-text{
    margin-top:2px; font-weight:1000; letter-spacing:.14em; font-size:18px;
    text-align:center; color:#0f1f47;
    text-shadow:0 1px 10px rgba(90,120,255,.25);
    animation:textIn .35s ease both .08s;
  }

  @media (prefers-reduced-motion:reduce){
    .load-overlay{ animation:none; }
    .load-overlay .ring,
    .load-overlay .cube,
    .load-overlay .cube i,
    .load-overlay .gcube::before,
    .load-overlay .gcube .orbit{ animation:none }
  }
}
